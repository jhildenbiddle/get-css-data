/*!
 * get-css-data
 * v1.8.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2020 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).getCssData=n()}(this,(function(){"use strict";function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},o=Array.isArray(e)?e:[e],r=Array.apply(null,Array(o.length)).map((function(e){return null}));function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n="<"===e.trim().charAt(0);return!n}function l(e,n){t.onError(e,o[n],n)}function i(e,n){var u=t.onSuccess(e,o[n],n);e=!1===u?"":u||e,r[n]=e,-1===r.indexOf(null)&&t.onComplete(r)}var c=document.createElement("a");o.forEach((function(e,n){if(c.setAttribute("href",e),c.href=String(c.href),Boolean(document.all&&!window.atob)&&c.host.split(":")[0]!==location.host.split(":")[0]){if(c.protocol===location.protocol){var o=new XDomainRequest;o.open("GET",e),o.timeout=0,o.onprogress=Function.prototype,o.ontimeout=Function.prototype,o.onload=function(){u(o.responseText)?i(o.responseText,n):l(o,n)},o.onerror=function(e){l(o,n)},setTimeout((function(){o.send()}),0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(e,")")),l(null,n)}else{var r=new XMLHttpRequest;r.open("GET",e),t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.onBeforeSend(r,e,n),r.onreadystatechange=function(){4===r.readyState&&(200===r.status&&u(r.responseText)?i(r.responseText,n):l(r,n))},r.send()}}))}function n(e,n){var t=document.implementation.createHTMLDocument(""),o=t.createElement("base"),r=t.createElement("a");return t.head.appendChild(o),t.body.appendChild(r),o.href=n||document.baseURI||(document.querySelector("base")||{}).href||location.href,r.href=e,r.href}return function(t){var o=/\/\*[\s\S]+?\*\//g,r=/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g,u={rootElement:t.rootElement||document,include:t.include||'style,link[rel="stylesheet"]',exclude:t.exclude||null,filter:t.filter||null,matchMedia:!1!==t.matchMedia,skipDisabled:!1!==t.skipDisabled,useCSSOM:t.useCSSOM||!1,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},l=Array.apply(null,u.rootElement.querySelectorAll(u.include)).filter((function(e){return n=e,t=u.exclude,!(n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector).call(n,t);var n,t})),i=Array.apply(null,Array(l.length)).map((function(e){return null}));function c(){if(-1===i.indexOf(null)){var e=i.join("");u.onComplete(e,i,l)}}function s(n,t,o,r){var l=u.onSuccess(n,o,r);(function n(t,o,r,l){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=a(t,r,c);s.rules.length?e(s.absoluteUrls,{onBeforeSend:function(e,n,t){u.onBeforeSend(e,o,n)},onSuccess:function(e,n,t){var r=u.onSuccess(e,o,n),l=a(e=!1===r?"":r||e,n,c);return l.rules.forEach((function(n,t){e=e.replace(n,l.absoluteRules[t])})),e},onError:function(e,u,a){i.push({xhr:e,url:u}),c.push(s.rules[a]),n(t,o,r,l,i,c)},onComplete:function(e){e.forEach((function(e,n){t=t.replace(s.rules[n],e)})),n(t,o,r,l,i,c)}}):l(t,i)})(n=void 0!==l&&!1===Boolean(l)?"":l||n,o,r,(function(e,n){null===i[t]&&(n.forEach((function(e){return u.onError(e.xhr,o,e.url)})),!u.filter||u.filter.test(e)?i[t]=e:i[t]="",c())}))}function a(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l={};return l.rules=(e.replace(o,"").match(r)||[]).filter((function(e){return-1===u.indexOf(e)})),l.urls=l.rules.map((function(e){return e.replace(r,"$1")})),l.absoluteUrls=l.urls.map((function(e){return n(e,t)})),l.absoluteRules=l.rules.map((function(e,o){var r=l.urls[o],u=n(l.absoluteUrls[o],t);return e.replace(r,u)})),l}l.length?l.forEach((function(t,o){var r=t.getAttribute("href"),l=t.getAttribute("rel"),a="LINK"===t.nodeName&&r&&l&&-1!==l.toLowerCase().indexOf("stylesheet"),f=!1!==u.skipDisabled&&t.disabled||!1!==u.matchMedia&&(t.hasAttribute("media")&&window&&window.matchMedia&&!window.matchMedia(t.getAttribute("media")).matches),p="STYLE"===t.nodeName;if(a&&!f)e(r,{mimeType:"text/css",onBeforeSend:function(e,n,o){u.onBeforeSend(e,t,n)},onSuccess:function(e,u,l){var i=n(r);s(e,o,t,i)},onError:function(e,n,r){i[o]="",u.onError(e,t,n),c()}});else if(p&&!f){var d=t.textContent;u.useCSSOM&&(d=Array.apply(null,t.sheet.cssRules).map((function(e){return e.cssText})).join("")),s(d,o,t,location.href)}else i[o]="",c()})):u.onComplete("",[])}}));
//# sourceMappingURL=get-css-data.min.js.map
