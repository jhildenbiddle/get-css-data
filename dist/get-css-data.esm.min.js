/*!
 * get-css-data
 * v1.6.3
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2020 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},t=Array.isArray(e)?e:[e],r=Array.apply(null,Array(t.length)).map((function(e){return null}));function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n="<"===e.trim().charAt(0);return!n}function u(e,n){o.onError(e,t[n],n)}function c(e,n){var l=o.onSuccess(e,t[n],n);e=!1===l?"":l||e,r[n]=e,-1===r.indexOf(null)&&o.onComplete(r)}var i=document.createElement("a");t.forEach((function(e,n){if(i.setAttribute("href",e),i.href=String(i.href),Boolean(document.all&&!window.atob)&&i.host.split(":")[0]!==location.host.split(":")[0]){if(i.protocol===location.protocol){var t=new XDomainRequest;t.open("GET",e),t.timeout=0,t.onprogress=Function.prototype,t.ontimeout=Function.prototype,t.onload=function(){l(t.responseText)?c(t.responseText,n):u(t,n)},t.onerror=function(e){u(t,n)},setTimeout((function(){t.send()}),0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(e,")")),u(null,n)}else{var r=new XMLHttpRequest;r.open("GET",e),o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.onBeforeSend(r,e,n),r.onreadystatechange=function(){4===r.readyState&&(200===r.status&&l(r.responseText)?c(r.responseText,n):u(r,n))},r.send()}}))}function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,o=document.implementation.createHTMLDocument(""),t=o.createElement("base"),r=o.createElement("a");return o.head.appendChild(t),o.body.appendChild(r),t.href=n,r.href=e,r.href}export default function(o){var t=/\/\*[\s\S]+?\*\//g,r=/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g,l={rootElement:o.rootElement||document,include:o.include||'style,link[rel="stylesheet"]',exclude:o.exclude||null,filter:o.filter||null,useCSSOM:o.useCSSOM||!1,onBeforeSend:o.onBeforeSend||Function.prototype,onSuccess:o.onSuccess||Function.prototype,onError:o.onError||Function.prototype,onComplete:o.onComplete||Function.prototype},u=Array.apply(null,l.rootElement.querySelectorAll(l.include)).filter((function(e){return n=e,o=l.exclude,!(n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector).call(n,o);var n,o})),c=Array.apply(null,Array(u.length)).map((function(e){return null}));function i(){if(-1===c.indexOf(null)){var e=c.join("");l.onComplete(e,c,u)}}function s(n,o,t,r){var u=l.onSuccess(n,t,r);(function n(o,t,r,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=a(o,r,i);s.rules.length?e(s.absoluteUrls,{onBeforeSend:function(e,n,o){l.onBeforeSend(e,t,n)},onSuccess:function(e,n,o){var r=l.onSuccess(e,t,n),u=a(e=!1===r?"":r||e,n,i);return u.rules.forEach((function(n,o){e=e.replace(n,u.absoluteRules[o])})),e},onError:function(e,l,a){c.push({xhr:e,url:l}),i.push(s.rules[a]),n(o,t,r,u,c,i)},onComplete:function(e){e.forEach((function(e,n){o=o.replace(s.rules[n],e)})),n(o,t,r,u,c,i)}}):u(o,c)})(n=void 0!==u&&!1===Boolean(u)?"":u||n,t,r,(function(e,n){null===c[o]&&(n.forEach((function(e){return l.onError(e.xhr,t,e.url)})),!l.filter||l.filter.test(e)?c[o]=e:c[o]="",i())}))}function a(e,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u={};return u.rules=(e.replace(t,"").match(r)||[]).filter((function(e){return-1===l.indexOf(e)})),u.urls=u.rules.map((function(e){return e.replace(r,"$1")})),u.absoluteUrls=u.urls.map((function(e){return n(e,o)})),u.absoluteRules=u.rules.map((function(e,t){var r=u.urls[t],l=n(u.absoluteUrls[t],o);return e.replace(r,l)})),u}u.length?u.forEach((function(o,t){var r=o.getAttribute("href"),u=o.getAttribute("rel"),a="LINK"===o.nodeName&&r&&u&&"stylesheet"===u.toLowerCase(),p="STYLE"===o.nodeName;if(a)e(r,{mimeType:"text/css",onBeforeSend:function(e,n,t){l.onBeforeSend(e,o,n)},onSuccess:function(e,l,u){var c=n(r,location.href);s(e,t,o,c)},onError:function(e,n,r){c[t]="",l.onError(e,o,n),i()}});else if(p){var f=o.textContent;l.useCSSOM&&(f=Array.apply(null,o.sheet.cssRules).map((function(e){return e.cssText})).join("")),s(f,t,o,location.href)}else c[t]="",i()})):l.onComplete("",[])}
//# sourceMappingURL=get-css-data.esm.min.js.map
