/*!
 * get-css-data
 * v1.9.1
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},t=Array.isArray(e)?e:[e],r=Array.apply(null,Array(t.length)).map((function(e){return null}));function u(e){var n=e&&"<"===e.trim().charAt(0);return e&&!n}function l(e,n){o.onError(e,t[n],n)}function c(e,n){var u=o.onSuccess(e,t[n],n);e=!1===u?"":u||e,r[n]=e,-1===r.indexOf(null)&&o.onComplete(r)}var s=document.createElement("a");t.forEach((function(e,n){if(s.setAttribute("href",e),s.href=String(s.href),Boolean(document.all&&!window.atob)&&s.host.split(":")[0]!==location.host.split(":")[0]){if(s.protocol===location.protocol){var t=new XDomainRequest;t.open("GET",e),t.timeout=0,t.onprogress=Function.prototype,t.ontimeout=Function.prototype,t.onload=function(){u(t.responseText)?c(t.responseText,n):l(t,n)},t.onerror=function(e){l(t,n)},setTimeout((function(){t.send()}),0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(e,")")),l(null,n)}else{var r=new XMLHttpRequest;r.open("GET",e),o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.onBeforeSend(r,e,n),r.onreadystatechange=function(){4===r.readyState&&(200===r.status&&u(r.responseText)||0===r.status&&u(r.responseText)?c(r.responseText,n):l(r,n))},r.send()}}))}function n(n){var t=/\/\*[\s\S]+?\*\//g,r=/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g,u={rootElement:n.rootElement||document,include:n.include||'style,link[rel="stylesheet"]',exclude:n.exclude||null,filter:n.filter||null,skipDisabled:!1!==n.skipDisabled,useCSSOM:n.useCSSOM||!1,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},l=Array.apply(null,u.rootElement.querySelectorAll(u.include)).filter((function(e){return n=e,o=u.exclude,!(n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector).call(n,o);var n,o})),c=Array.apply(null,Array(l.length)).map((function(e){return null}));function s(){if(-1===c.indexOf(null)){c.reduce((function(e,n,o){return""===n&&e.push(o),e}),[]).reverse().forEach((function(e){return[l,c].forEach((function(n){return n.splice(e,1)}))}));var e=c.join("");u.onComplete(e,c,l)}}function i(e,n,o,t){var r=u.onSuccess(e,o,t);p(e=void 0!==r&&!1===Boolean(r)?"":r||e,o,t,(function(e,t){null===c[n]&&(t.forEach((function(e){return u.onError(e.xhr,o,e.url)})),!u.filter||u.filter.test(e)?c[n]=e:c[n]="",s())}))}function a(e,n){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l={};return l.rules=(e.replace(t,"").match(r)||[]).filter((function(e){return-1===u.indexOf(e)})),l.urls=l.rules.map((function(e){return e.replace(r,"$1")})),l.absoluteUrls=l.urls.map((function(e){return o(e,n)})),l.absoluteRules=l.rules.map((function(e,t){var r=l.urls[t],u=o(l.absoluteUrls[t],n);return e.replace(r,u)})),l}function p(n,o,t,r){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=a(n,t,c);s.rules.length?e(s.absoluteUrls,{onBeforeSend:function(e,n,t){u.onBeforeSend(e,o,n)},onSuccess:function(e,n,t){var r=u.onSuccess(e,o,n),l=a(e=!1===r?"":r||e,n,c);return l.rules.forEach((function(n,o){e=e.replace(n,l.absoluteRules[o])})),e},onError:function(e,u,i){l.push({xhr:e,url:u}),c.push(s.rules[i]),p(n,o,t,r,l,c)},onComplete:function(e){e.forEach((function(e,o){n=n.replace(s.rules[o],e)})),p(n,o,t,r,l,c)}}):r(n,l)}l.length?l.forEach((function(n,t){var r=n.getAttribute("href"),l=n.getAttribute("rel"),a="link"===n.nodeName.toLowerCase()&&r&&l&&-1!==l.toLowerCase().indexOf("stylesheet"),p=!1!==u.skipDisabled&&n.disabled,f="style"===n.nodeName.toLowerCase();if(a&&!p)e(r,{mimeType:"text/css",onBeforeSend:function(e,o,t){u.onBeforeSend(e,n,o)},onSuccess:function(e,u,l){var c=o(r);i(e,t,n,c)},onError:function(e,o,r){c[t]="",u.onError(e,n,o),s()}});else if(f&&!p){var m=n.textContent;u.useCSSOM&&(m=Array.apply(null,n.sheet.cssRules).map((function(e){return e.cssText})).join("")),i(m,t,n,location.href)}else c[t]="",s()})):u.onComplete("",[])}function o(e,n){var o=document.implementation.createHTMLDocument(""),t=o.createElement("base"),r=o.createElement("a");return o.head.appendChild(t),o.body.appendChild(r),t.href=n||document.baseURI||(document.querySelector("base")||{}).href||location.href,r.href=e,r.href}export default n;
//# sourceMappingURL=get-css-data.esm.min.js.map
